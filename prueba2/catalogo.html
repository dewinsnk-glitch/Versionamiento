<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LUMEN - Catálogo</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="pantalla-catalogo">
    <header class="header">
      <div class="logo-header">
        <img src="gancho-de-ropa.png" alt="Logo" />
        <div class="titulo-lumen">
          <strong>LUMEN</strong><br />
          <span>ROPA CON ESTILO</span>
        </div>
      </div>
      <div class="menu-icon" id="menuToggle">☰</div>
    </header>

    <!-- Menú desplegable -->
    <nav class="menu-desplegable" id="menu">
      <ul>
        <li><a href="catalogo.html">Inicio</a></li> <!--Redireccionamiento al inicio/catalogo-->
        <li><a href="carrito.html">Carrito de compra</a></li> <!--Redireccionamiento a carrito de compra-->
        <li><a href="histcompra.html">Historial de compra</a></li> <!--Redireccionamiento al historial de compra-->
        <li><a href="perfil.html">Perfil</a></li> <!--Redireccionamiento a Perfil-->
        <li><a href="index.html">Cerrar sesión</a></li> <!--Redireccionamiento a Login-->
      </ul>
    </nav>

    <!-- Busqueda y filtro -->
    <div class="busqueda-filtros">
      <input type="text" id="busqueda" placeholder="Buscar productos..." />
      <select id="filtroCategoria">
        <option value="">Todas las categorías</option>
        <option value="camisas">Camisas</option>
        <option value="pantalones">Pantalones</option>
        <option value="accesorios">Accesorios</option>
      </select>
    </div>

    <!-- Galería de productos -->
    <main class="galeria" id="galeria">
      <div class="producto" data-categoria="camisas" data-nombre="Camisa Básica">
        <img src="https://via.placeholder.com/80" alt="Camisa">
        <button class="btn-carrito">Agregar al carrito</button>
      </div>
      <div class="producto" data-categoria="pantalones" data-nombre="Jean negro">
        <img src="https://via.placeholder.com/80" alt="Pantalón">
        <button class="btn-carrito">Agregar al carrito</button>
      </div>
      <div class="producto" data-categoria="accesorios" data-nombre="Gorra">
        <img src="https://via.placeholder.com/80" alt="Accesorio">
        <button class="btn-carrito">Agregar al carrito</button>
      </div>
      <div class="producto" data-categoria="camisas" data-nombre="Camisa clasica">
        <img src="https://via.placeholder.com/80" alt="Camisa">
        <button class="btn-carrito">Agregar al carrito</button>
      </div>
      <div class="producto" data-categoria="pantalones" data-nombre="Jean azul">
        <img src="https://via.placeholder.com/80" alt="Pantalón">
        <button class="btn-carrito">Agregar al carrito</button>
      </div>
    </main>
  </div>

  <!-- Script: menú, búsqueda, filtro, carrito -->
  <script>
    // Menú desplegable
    const menuToggle = document.getElementById("menuToggle");
    const menu = document.getElementById("menu");
    menuToggle.addEventListener("click", () => {
      menu.classList.toggle("visible");
    });

    // Filtro y búsqueda
    const inputBusqueda = document.getElementById("busqueda");
    const filtro = document.getElementById("filtroCategoria");
    const productos = document.querySelectorAll(".producto");

    function filtrarProductos() {
      const texto = inputBusqueda.value.toLowerCase();
      const categoria = filtro.value;

      productos.forEach(producto => {
        const alt = producto.querySelector("img").alt.toLowerCase();
        const coincideTexto = texto === "" || alt.includes(texto);
        const coincideCategoria = categoria === "" || producto.dataset.categoria === categoria;

        producto.style.display = coincideTexto && coincideCategoria ? "flex" : "none";
      });
    }

    inputBusqueda.addEventListener("input", filtrarProductos);
    filtro.addEventListener("change", filtrarProductos);

    // Carrito
    document.querySelectorAll(".btn-carrito").forEach(btn => {
    btn.addEventListener("click", function () {
    const producto = this.parentElement;
    const nombre = producto.getAttribute("data-nombre");
    const categoria = producto.getAttribute("data-categoria");

    let carrito = JSON.parse(localStorage.getItem("carrito")) || [];
    carrito.push({ nombre, categoria });
    localStorage.setItem("carrito", JSON.stringify(carrito));

    alert(`"${nombre}" agregado al carrito`);
    });
    });
  </script>
</body>
</html>
